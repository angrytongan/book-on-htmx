{{block "dashboard-page" .}}
  {{template "head" .}}
  {{template "nav-head" .}}

  {{template "dashboard-content" .}}

  {{template "nav-foot" .}}
  {{template "foot" .}}
{{end}}

{{block "dashboard-content" .}}
    <h1 class="text-xl">Dashboard</h1>

    <div class="grid grid-cols-2 gap-4">
      {{range .Widgets}}
        <div hx-get="{{.}}"
             hx-trigger="load"
             hx-target="this"
             hx-swap="innerHTML">{{template "widget-loading"}}</div>
      {{end}}
    </div>
{{end}}

{{block "dashboard" .}}
  {{template "dashboard-content" .}}
  {{template "nav-oob" .}}
{{end}}

{{define "widget-loading"}}
  <div class="flex flex-col gap-2">
    <div class="skeleton w-full h-8"></div>
    <div class="skeleton w-full h-8"></div>
    <div class="skeleton w-full h-8"></div>
  </div>
{{end}}
